# Plantsitter Backend Environment Variables
# Copy this file to .env and fill in your values
# cp env.example .env

# App
APP_NAME=Plantsitter API
APP_VERSION=0.1.0
DEBUG=true

# MongoDB
MONGO_URI=mongodb://localhost:27017
MONGO_DB_NAME=plantsitter
# Optional combined Mongo URI (includes DB) used by Celery worker + jobs:
MONGODB_URI=mongodb://localhost:27017/plantsitter

# JWT Authentication
# Generate a secure key: python -c "import secrets; print(secrets.token_hex(32))"
JWT_SECRET_KEY=your-super-secret-key-change-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=10080

# OpenAI
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_MODEL=gpt-4o

# OpenWeatherMap
# Get your API key from: https://openweathermap.org/api
OPENWEATHER_API_KEY=your-openweather-api-key

# AWS / S3
AWS_REGION=ap-south-1
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_S3_BUCKET=your-upload-bucket

# AWS / SNS (Push)
# Platform application ARNs for APNS (iOS) and FCM (Android)
AWS_SNS_PLATFORM_APPLICATION_ARN_IOS=
AWS_SNS_PLATFORM_APPLICATION_ARN_IOS_SANDBOX=
AWS_SNS_PLATFORM_APPLICATION_ARN_ANDROID=

# Public assets base URL (optional)
S3_BASE_URL=

# AWS / SQS (Celery broker) â€” INFRA-001
CELERY_BROKER_URL=sqs://
CELERY_QUEUE_PREFIX=vatika-
SQS_DEFAULT_QUEUE_NAME=vatika-default
SQS_DEFAULT_QUEUE_URL=https://sqs.ap-south-1.amazonaws.com/123456789012/vatika-default

# Celery tuning (SQS)
CELERY_VISIBILITY_TIMEOUT=3600
CELERY_POLLING_INTERVAL=1
CELERY_WAIT_TIME_SECONDS=10
CELERY_TASK_TIME_LIMIT=420
CELERY_TASK_SOFT_TIME_LIMIT=360

# Jobs (JOBS-001)
JOBS_RETENTION_DAYS=30
DEBUG_JOBS_ENDPOINTS=false
JOBS_IDEMPOTENCY_WINDOW_HOURS=6
JOBS_MAX_INPUT_BYTES=20000

# Plant timeline (weekly snapshots)
# Set to 0 to disable the weekly restriction for testing.
PLANT_TIMELINE_MIN_DAYS_BETWEEN_SNAPSHOTS=7

# ANALYSIS-002: Soil signals (day-shift modifiers)
SOIL_CONFIDENCE_THRESHOLD=0.6
SOIL_MAX_AGE_DAYS=3
SOIL_RECENT_WATERING_IGNORE_HOURS=24
SOIL_SHIFT_MAX_DAYS=2

# Admin (optional)
ADMIN_API_KEY=
